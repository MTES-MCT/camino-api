<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../">
  <title data-ice="title">src/api/resolvers/utilisateurs.js | camino-api</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Camino api"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="camino-api"><meta property="twitter:description" content="Camino api"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/MTES-MCT/camino-api"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#api">api</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-schema">schema</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#api-resolvers">api/resolvers</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreFormat">titreFormat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-geojsonFeatureCollectionPoints">geojsonFeatureCollectionPoints</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-geojsonFeatureMultiPolygon">geojsonFeatureMultiPolygon</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-geojsonMultiPolygonCoordinates">geojsonMultiPolygonCoordinates</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-permissionsCheck">permissionsCheck</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-entreprise">entreprise</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-entreprises">entreprises</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-metas">metas</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-permission">permission</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-permissions">permissions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-substance">substance</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-substances">substances</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreTravauxRapportModifier">titreTravauxRapportModifier</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titre">titre</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreAjouter">titreAjouter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreEtapeModifier">titreEtapeModifier</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreModifier">titreModifier</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreSupprimer">titreSupprimer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titres">titres</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateur">utilisateur</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurAjoutEmailEnvoyer">utilisateurAjoutEmailEnvoyer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurAjouter">utilisateurAjouter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurConnecter">utilisateurConnecter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurIdentifier">utilisateurIdentifier</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurModifier">utilisateurModifier</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurMotDePasseEmailEnvoyer">utilisateurMotDePasseEmailEnvoyer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurMotDePasseInitialiser">utilisateurMotDePasseInitialiser</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurMotDePasseModifier">utilisateurMotDePasseModifier</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurSupprimer">utilisateurSupprimer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurs">utilisateurs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-version">version</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-restrictedDomaineIds">restrictedDomaineIds</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-restrictedStatutIds">restrictedStatutIds</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#config">config</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-debug">debug</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-port">port</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-url">url</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-knexConfig">knexConfig</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#database">database</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-knex">knex</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#database-models">database/models</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/administrations.js~Administrations.html">Administrations</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/demarches-statuts.js~DemarchesStatuts.html">DemarchesStatuts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/demarches-types.js~DemarchesTypes.html">DemarchesTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/domaines.js~Domaines.html">Domaines</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/emprises.js~Emprises.html">Emprises</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/entreprises.js~Entreprises.html">Entreprises</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/etapes-statuts.js~EtapesStatuts.html">EtapesStatuts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/etapes-types.js~EtapesTypes.html">EtapesTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/permissions.js~Permissions.html">Permissions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/phases-statuts.js~PhasesStatuts.html">PhasesStatuts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/statuts.js~Statuts.html">Statuts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/substances-legales-codes.js~SubstancesLegalesCodes.html">SubstancesLegalesCodes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/substances-legales.js~SubstancesLegales.html">SubstancesLegales</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/substances.js~Substances.html">Substances</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres-administrations.js~TitresAdministrations.html">TitresAdministrations</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres-amodiataires.js~TitresAmodiataires.html">TitresAmodiataires</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres-demarches.js~TitresDemarches.html">TitresDemarches</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres-documents.js~TitresDocuments.html">TitresDocuments</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres-emprises.js~TitresEmprises.html">TitresEmprises</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres-erreurs.js~TitresErreurs.html">TitresErreurs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres-etapes.js~TitresEtapes.html">TitresEtapes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres-phases.js~TitresPhases.html">TitresPhases</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres-points-references.js~TitresPointsReferences.html">TitresPointsReferences</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres-points.js~TitresPoints.html">TitresPoints</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres-substances.js~TitresSubstances.html">TitresSubstances</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres-titulaires.js~TitresTitulaires.html">TitresTitulaires</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres-travaux-rapports.js~TitresTravauxRapports.html">TitresTravauxRapports</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/titres.js~Titres.html">Titres</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/types.js~Types.html">Types</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/models/utilisateurs.js~Utilisateurs.html">Utilisateurs</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#database-queries">database/queries</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-entrepriseGet">entrepriseGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-entreprisesGet">entreprisesGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-demarchesTypesGet">demarchesTypesGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-domainesGet">domainesGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-statutsGet">statutsGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-typesGet">typesGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-permissionGet">permissionGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-permissionsGet">permissionsGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-substanceGet">substanceGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-substancesGet">substancesGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreDemarcheGet">titreDemarcheGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreDemarcheOrdreUpdate">titreDemarcheOrdreUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreDemarcheStatutIdUpdate">titreDemarcheStatutIdUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titresDemarchesGet">titresDemarchesGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreEtapeGet">titreEtapeGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreEtapeUpdate">titreEtapeUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreEtapeUpsert">titreEtapeUpsert</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titresEtapesGet">titresEtapesGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titrePhaseDelete">titrePhaseDelete</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titrePhaseUpdate">titrePhaseUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titresPhasesGet">titresPhasesGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titrePointUpdate">titrePointUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titresPointsGet">titresPointsGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreTravauxRapportUpdate">titreTravauxRapportUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titresTravauxRapportGet">titresTravauxRapportGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titresTravauxRapportsGet">titresTravauxRapportsGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreAdd">titreAdd</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreGet">titreGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titrePropsUpdate">titrePropsUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreRemove">titreRemove</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreUpdate">titreUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titresGet">titresGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurAdd">utilisateurAdd</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurByEmailGet">utilisateurByEmailGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurGet">utilisateurGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurRemove">utilisateurRemove</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateurUpdate">utilisateurUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-utilisateursGet">utilisateursGet</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#tasks">tasks</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreDemarcheStatutIdUpdate">titreDemarcheStatutIdUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreDemarchesOrdreUpdate">titreDemarchesOrdreUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreEtapesOrdreUpdate">titreEtapesOrdreUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titrePhaseDelete">titrePhaseDelete</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titrePhaseUpdate">titrePhaseUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titrePropsUpdate">titrePropsUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreStatutIdUpdate">titreStatutIdUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-calculatedProps">calculatedProps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-titreDemarche">titreDemarche</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#tasks--utils">tasks/_utils</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreDateFinFind">titreDateFinFind</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreDemarcheDateFinAndDureeFind">titreDemarcheDateFinAndDureeFind</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreDemarcheOrdreFind">titreDemarcheOrdreFind</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreDemarchePhasesFilter">titreDemarchePhasesFilter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreDemarcheStatutIdFind">titreDemarcheStatutIdFind</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreDemarchesAscSort">titreDemarchesAscSort</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreEtapesAscSort">titreEtapesAscSort</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreEtapesSortDesc">titreEtapesSortDesc</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titrePhasesFind">titrePhasesFind</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titrePropEtapeIdFind">titrePropEtapeIdFind</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreStatutIdFind">titreStatutIdFind</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#tasks-daily">tasks/daily</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titresDemarchesOrdreUpdate">titresDemarchesOrdreUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titresDemarchesUpdate">titresDemarchesUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titresEtapesOrdreUpdate">titresEtapesOrdreUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titresPhasesUpdate">titresPhasesUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titresPropsEtapeIdsUpdate">titresPropsEtapeIdsUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titresStatutIdsUpdate">titresStatutIdsUpdate</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#tasks-etape-update">tasks/etape-update</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-run">run</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#tools">tools</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dupFind">dupFind</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dupRemove">dupRemove</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#tools-export">tools/export</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreTravauxRapportRowAdd">titreTravauxRapportRowAdd</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-titreTravauxRapportRowUpdate">titreTravauxRapportRowUpdate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-definitions">definitions</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#tools-export--utils">tools/export/_utils</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dbProcess">dbProcess</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-cellSet">cellSet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-cellsGet">cellsGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-gssGetInfo">gssGetInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-gssUseServiceAccountAuth">gssUseServiceAccountAuth</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rowAdd">rowAdd</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rowDelete">rowDelete</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rowsGet">rowsGet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-worksheetAdd">worksheetAdd</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-worksheetRemove">worksheetRemove</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-jsonToSpreadsheet">jsonToSpreadsheet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rowFormat">rowFormat</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-spreadsheetRowAdd">spreadsheetRowAdd</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-spreadsheetRowUpdate">spreadsheetRowUpdate</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#tools-export-tables">tools/export/tables</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-tables">tables</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-tables">tables</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-utilisateursTables">utilisateursTables</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#tools-import">tools/import</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-spreadSheets">spreadSheets</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#tools-import--utils">tools/import/_utils</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-spreadsheetToJson">spreadsheetToJson</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fileCreate">fileCreate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-filePathCreate">filePathCreate</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#tools-mailer">tools/mailer</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-emailsBatch">emailsBatch</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mailer">mailer</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/api/resolvers/utilisateurs.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import * as bcrypt from &apos;bcrypt&apos;
import * as jwt from &apos;jsonwebtoken&apos;
import * as emailRegex from &apos;email-regex&apos;
import * as cryptoRandomString from &apos;crypto-random-string&apos;
import mailer from &apos;../../tools/mailer/index&apos;

import {
  utilisateurGet,
  utilisateursGet,
  utilisateurAdd,
  utilisateurUpdate,
  utilisateurRemove,
  utilisateurByEmailGet
} from &apos;../../database/queries/utilisateurs&apos;

import permissionsCheck from &apos;./_permissions-check&apos;

const permissionsVisibleForAdmin = [
  &apos;admin&apos;,
  &apos;editeur&apos;,
  &apos;lecteur&apos;,
  &apos;entreprise&apos;,
  &apos;defaut&apos;
]

const utilisateurErreurs = async utilisateur =&gt; {
  const errors = []

  if (!utilisateur.prenom) {
    errors.push(&apos;pr&#xE9;nom manquant&apos;)
  }

  if (!utilisateur.nom) {
    errors.push(&apos;nom manquant&apos;)
  }

  if (!utilisateur.email) {
    errors.push(&apos;email manquant&apos;)
  } else if (!emailRegex({ exact: true }).test(utilisateur.email)) {
    errors.push(&apos;adresse email invalide&apos;)
  }

  return errors
}

const userIdGenerate = async () =&gt; {
  const id = cryptoRandomString(6)
  const utilisateurWithTheSameId = await utilisateurGet(id)
  if (utilisateurWithTheSameId) {
    return userIdGenerate()
  }

  return id
}

const utilisateur = async ({ id }, context, info) =&gt; {
  if (
    permissionsCheck(context.user, [&apos;super&apos;]) ||
    (context.user &amp;&amp; context.user.id === id)
  ) {
    return utilisateurGet(id)
  } else if (context.user &amp;&amp; permissionsCheck(context.user, [&apos;admin&apos;])) {
    const utilisateur = await utilisateurGet(id)

    if (permissionsCheck(utilisateur, permissionsVisibleForAdmin)) {
      return utilisateur
    } else {
      return null
    }
  }

  return null
}

const utilisateurs = async (
  { entrepriseIds, administrationIds, permissionIds, noms },
  context,
  info
) =&gt; {
  if (context.user &amp;&amp; permissionsCheck(context.user, [&apos;super&apos;, &apos;admin&apos;])) {
    if (permissionsCheck(context.user, [&apos;admin&apos;])) {
      if (permissionIds) {
        permissionIds = permissionIds.filter(id =&gt;
          permissionsVisibleForAdmin.includes(id)
        )
      } else {
        permissionIds = permissionsVisibleForAdmin
      }
    }

    const utilisateurs = await utilisateursGet({
      noms,
      entrepriseIds,
      administrationIds,
      permissionIds
    })

    return utilisateurs
  }
  return null
}

const utilisateurIdentifier = async (variables, context, info) =&gt; {
  const utilisateur = context.user &amp;&amp; (await utilisateurGet(context.user.id))
  let token

  if (utilisateur) {
    token = tokenCreate(
      utilisateur.id,
      utilisateur.email,
      utilisateur.permission
    )
  }

  return { token, utilisateur }
}

const utilisateurConnecter = async ({ email, motDePasse }, context, info) =&gt; {
  const errors = []
  let token
  let utilisateur
  const emailIsValid = emailRegex({ exact: true }).test(email)

  if (!email) {
    errors.push(&apos;adresse email manquante&apos;)
  }

  if (!emailIsValid) {
    errors.push(&apos;adresse email invalide&apos;)
  }

  if (!motDePasse) {
    errors.push(&apos;mot de passe manquant&apos;)
  }

  if (email &amp;&amp; emailIsValid &amp;&amp; motDePasse) {
    utilisateur = await utilisateurByEmailGet(email)

    if (utilisateur) {
      const valid = await bcrypt.compare(motDePasse, utilisateur.motDePasse)

      if (!valid) {
        errors.push(&apos;mot de passe incorrect&apos;)
      }
    } else {
      errors.push(&apos;aucun utilisateur enregistr&#xE9; avec cette adresse email&apos;)
    }
  }

  if (!errors.length &amp;&amp; utilisateur) {
    token = tokenCreate(
      utilisateur.id,
      utilisateur.email,
      utilisateur.permission
    )
  } else {
    throw new Error(errors.join(&apos;, &apos;))
  }

  return { token, utilisateur }
}

const utilisateurAjouter = async ({ utilisateur }, context) =&gt; {
  const errors = await utilisateurErreurs(utilisateur)

  if (utilisateur.email) {
    const utilisateurWithTheSameEmail = await utilisateurByEmailGet(
      utilisateur.email
    )

    if (utilisateurWithTheSameEmail) {
      errors.push(&apos;un utilisateur avec cet email existe d&#xE9;j&#xE0;&apos;)
    }
  }

  if (!utilisateur.motDePasse) {
    errors.push(&apos;mot de passe manquant&apos;)
  } else if (utilisateur.motDePasse.length &lt; 8) {
    errors.push(&apos;le mot de passe doit contenir au moins 8 caract&#xE8;res&apos;)
  }

  if (
    !permissionsCheck(context.user, [&apos;super&apos;, &apos;admin&apos;]) ||
    !utilisateur.permission
  ) {
    utilisateur.permission = { id: &apos;defaut&apos; }
  }

  if (
    !permissionsCheck(context.user, [&apos;super&apos;]) &amp;&amp;
    utilisateur.permission.id === &apos;super&apos;
  ) {
    errors.push(
      &apos;droits insuffisants pour cr&#xE9;er un utilisateur avec ces permissions&apos;
    )
  }

  if (
    !permissionsCheck(context.user, [&apos;super&apos;, &apos;admin&apos;]) &amp;&amp;
    context.user.email !== utilisateur.email
  ) {
    errors.push(
      &apos;droits insuffisants pour cr&#xE9;er un compte avec cette adresse email&apos;
    )
  }

  if (!errors.length) {
    utilisateur.motDePasse = await bcrypt.hash(utilisateur.motDePasse, 10)
    utilisateur.id = await userIdGenerate()

    const res = await utilisateurAdd(utilisateur)

    return res
  } else {
    throw new Error(errors.join(&apos;, &apos;))
  }
}

const utilisateurAjoutEmailEnvoyer = async ({ email }, context) =&gt; {
  const errors = []
  let utilisateur

  console.log(&apos;email&apos;, email)
  const emailIsValid = emailRegex({ exact: true }).test(email)

  if (!email) {
    errors.push(&apos;email manquant&apos;)
  } else if (!emailIsValid) {
    errors.push(&apos;adresse email invalide&apos;)
  } else {
    utilisateur = await utilisateurByEmailGet(email)

    if (utilisateur) {
      errors.push(&apos;un utilisateur est d&#xE9;j&#xE0; enregistr&#xE9; avec cette adresse email&apos;)
    }
  }

  if (!errors.length) {
    const token = jwt.sign({ email }, process.env.JWT_SECRET)

    const url = `${
      process.env.UI_URL
    }/creation-de-compte?token=${token}&amp;email=${email}`

    const subject = `[Camino] Cr&#xE9;ation de votre compte utilisateur`
    const html = `&lt;p&gt;Pour cr&#xE9;er votre compte, &lt;a href=&quot;${url}&quot;&gt;cliquez ici&lt;/a&gt;.&lt;/p&gt;`

    try {
      mailer(email, subject, html)
    } catch (e) {
      return &quot;erreur lors de l&apos;envoi d&apos;email&quot;
    }

    return &apos;un lien pour cr&#xE9;er votre compte vous a &#xE9;t&#xE9; envoy&#xE9; par email&apos;
  } else {
    throw new Error(errors.join(&apos;, &apos;))
  }
}

const utilisateurModifier = async ({ utilisateur }, context) =&gt; {
  if (
    permissionsCheck(context.user, [&apos;super&apos;, &apos;admin&apos;]) ||
    context.user.id === utilisateur.id
  ) {
    let res
    const errors = await utilisateurErreurs(utilisateur)

    if (!utilisateur.id) {
      errors.push(&apos;id manquante&apos;)
    }

    if (!errors.length) {
      res = await utilisateurUpdate(utilisateur)
    } else {
      throw new Error(errors.join(&apos;, &apos;))
    }

    return res
  } else {
    throw new Error(&quot;droits insuffisants pour effectuer l&apos;op&#xE9;ration&quot;)
  }
}

const utilisateurSupprimer = async ({ id }, context) =&gt; {
  if (
    permissionsCheck(context.user, [&apos;super&apos;, &apos;admin&apos;]) ||
    context.user.id === id
  ) {
    const errors = []
    let res

    if (!id) {
      errors.push(&apos;id manquante&apos;)
    }

    if (!errors.length) {
      res = await utilisateurRemove(id)
    } else {
      throw new Error(errors.join(&apos;, &apos;))
    }

    return res
  } else {
    throw new Error(&quot;droits insuffisants pour effectuer l&apos;op&#xE9;ration&quot;)
  }
}

const utilisateurMotDePasseModifier = async (
  { id, motDePasse, motDePasseNouveau1, motDePasseNouveau2 },
  context
) =&gt; {
  if (
    permissionsCheck(context.user, [&apos;super&apos;, &apos;admin&apos;]) ||
    context.user.id === id
  ) {
    const errors = []

    if (!id) {
      errors.push(&apos;id manquante&apos;)
    }

    if (!motDePasse) {
      errors.push(&apos;mot de passe manquant&apos;)
    }

    if (!motDePasseNouveau1) {
      errors.push(&apos;nouveau mot de passe manquant&apos;)
    } else if (motDePasseNouveau1.length &lt; 8) {
      errors.push(&apos;le mot de passe doit contenir au moins 8 caract&#xE8;res&apos;)
    }

    if (!motDePasseNouveau2) {
      errors.push(&apos;v&#xE9;rification du nouveau mot de passe manquante&apos;)
    }

    if (motDePasseNouveau1 !== motDePasseNouveau2) {
      errors.push(&apos;le nouveau mot de passe et la v&#xE9;rification sont diff&#xE9;rents&apos;)
    }

    if (id &amp;&amp; motDePasse) {
      const utilisateur = await utilisateurGet(id)

      if (utilisateur) {
        const valid = await bcrypt.compare(motDePasse, utilisateur.motDePasse)

        if (!valid) {
          errors.push(&apos;mot de passe incorrect&apos;)
        }
      } else {
        errors.push(&apos;aucun utilisateur enregistr&#xE9; avec cette id&apos;)
      }
    }

    if (!errors.length) {
      const res = await utilisateurUpdate({
        id,
        motDePasse: await bcrypt.hash(motDePasseNouveau1, 10)
      })

      return res
    } else {
      throw new Error(errors.join(&apos;, &apos;))
    }
  } else {
    throw new Error(&quot;droits insuffisants pour effectuer l&apos;op&#xE9;ration&quot;)
  }
}

const utilisateurMotDePasseEmailEnvoyer = async ({ email }, context) =&gt; {
  const errors = []
  let utilisateur
  const emailIsValid = emailRegex({ exact: true }).test(email)

  if (!email) {
    errors.push(&apos;email manquant&apos;)
  } else if (!emailIsValid) {
    errors.push(&apos;adresse email invalide&apos;)
  } else {
    utilisateur = await utilisateurByEmailGet(email)

    if (!utilisateur) {
      errors.push(&apos;aucun utilisateur enregistr&#xE9; avec cette adresse email&apos;)
    }
  }

  if (!errors.length) {
    const token = jwt.sign({ id: utilisateur.id }, process.env.JWT_SECRET)

    const url = `${
      process.env.UI_URL
    }/mot-de-passe?token=${token}&amp;email=${email}`

    const subject = `[Camino] Initialisation de votre mot de passe`
    const html = `&lt;p&gt;Pour initialiser votre mot de passe, &lt;a href=&quot;${url}&quot;&gt;cliquez ici&lt;/a&gt; (lien valable 15 minutes).&lt;/p&gt;`

    try {
      mailer(email, subject, html)
    } catch (e) {
      return &quot;erreur lors de l&apos;envoi d&apos;email&quot;
    }

    return &apos;email envoy&#xE9;&apos;
  } else {
    throw new Error(errors.join(&apos;, &apos;))
  }
}

const utilisateurMotDePasseInitialiser = async (
  { motDePasse1, motDePasse2 },
  context
) =&gt; {
  const errors = []
  const now = Math.round(new Date().getTime() / 1000)
  const delay = 60 * 15 // 15 minutes

  if (now - context.user.iat &gt; delay) {
    errors.push(&apos;d&#xE9;lai expir&#xE9;&apos;)
  } else {
    if (!motDePasse1) {
      errors.push(&apos;nouveau mot de passe manquant&apos;)
    } else if (motDePasse1.length &lt; 8) {
      errors.push(&apos;le mot de passe doit contenir au moins 8 caract&#xE8;res&apos;)
    }

    if (!motDePasse2) {
      errors.push(&apos;v&#xE9;rification du nouveau mot de passe manquante&apos;)
    }

    if (motDePasse1 !== motDePasse2) {
      errors.push(&apos;le nouveau mot de passe et la v&#xE9;rification sont diff&#xE9;rents&apos;)
    }

    if (context.user.id) {
      const utilisateur = await utilisateurGet(context.user.id)

      if (!utilisateur) {
        errors.push(&apos;aucun utilisateur enregistr&#xE9; avec cette id&apos;)
      }
    }
  }

  if (!errors.length) {
    const res = await utilisateurUpdate({
      id: context.user.id,
      motDePasse: await bcrypt.hash(motDePasse1, 10)
    })

    return &apos;mot de passe mis &#xE0; jour&apos;
  } else {
    throw new Error(errors.join(&apos;, &apos;))
  }
}

const tokenCreate = (id, email, permission) =&gt;
  jwt.sign(
    {
      id,
      email,
      permission
    },
    process.env.JWT_SECRET
  )

export {
  utilisateur,
  utilisateurs,
  utilisateurIdentifier,
  utilisateurConnecter,
  utilisateurAjouter,
  utilisateurAjoutEmailEnvoyer,
  utilisateurModifier,
  utilisateurSupprimer,
  utilisateurMotDePasseModifier,
  utilisateurMotDePasseEmailEnvoyer,
  utilisateurMotDePasseInitialiser
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
